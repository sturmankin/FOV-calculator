<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SMOKERs FOV Calculator</title>

<style>
body{
  margin:0;
  background:#000;
  min-height:100vh;
  display:grid;
  place-items:center;
}

.poster{
  position:relative;
  width:min(94vw, 860px);
  aspect-ratio: 1024 / 1536;
  background:url("bg.png") center/cover no-repeat;
  overflow:hidden;
}

.hit{
  position:absolute;
  border:0;
  outline:0;
  background:transparent;

  color:#fff;
  -webkit-text-fill-color:#fff;
  caret-color:#fff;

  font-family:-apple-system, system-ui, sans-serif;
  font-weight:1000;
  font-size:28px;
  text-align:center;

  padding:0;
  margin:0;

  text-shadow:
    0 3px 0 rgba(0,0,0,0.9),
    0 0 10px rgba(0,0,0,0.4);
}

.hit:focus{
  box-shadow:0 0 0 3px rgba(255,255,255,0.2);
  border-radius:12px;
}

.result{
  position:absolute;
  font-family:-apple-system, system-ui, sans-serif;
  font-weight:1000;
  color:#ffffff;
  text-shadow:
    0 3px 0 rgba(0,0,0,0.9),
    0 0 18px rgba(255,225,0,0.6);
  letter-spacing:-0.5px;
  pointer-events:none;
  text-align:center;
  transition:transform 0.15s ease;
}

@media (max-width:420px){
  .hit{ font-size:20px; }
}
</style>
</head>

<body>

<div class="poster">

  <!-- DISTANCE -->
  <input id="distance" class="hit"
    inputmode="numeric" pattern="[0-9]*" maxlength="4"
    style="
      left:21%;
      top:74.2%;
      width:34%;
      height:4.8%;
    " />

  <!-- WIDTH -->
  <input id="width" class="hit"
    inputmode="numeric" pattern="[0-9]*" maxlength="4"
    style="
      left:54%;
      top:74.2%;
      width:34%;
      height:4.8%;
    " />

  <!-- CALCULATE -->
  <button id="calcBtn" class="hit"
    style="
      left:20%;
      top:81.5%;
      width:60%;
      height:7%;
      cursor:pointer;
    ">
  </button>

  <!-- RESULT -->
  <div id="result" class="result"
    style="
      left:33%;
      top:18%;
      width:34%;
      font-size:56px;
    ">
  </div>

</div>

<script>
const distEl = document.getElementById("distance");
const widthEl = document.getElementById("width");
const resultEl = document.getElementById("result");
const calcBtn = document.getElementById("calcBtn");

function enforce4Digits(el){
  el.value = (el.value || "").replace(/\D+/g, "").slice(0,4);
}

function calculate(){
  enforce4Digits(distEl);
  enforce4Digits(widthEl);

  const D = parseFloat(distEl.value);
  const W = parseFloat(widthEl.value);

  if(!isFinite(D) || !isFinite(W) || D<=0 || W<=0){
    resultEl.textContent="";
    return;
  }

  const angle = 2 * Math.atan((W/2)/D) * 180 / Math.PI;
  resultEl.textContent = angle.toFixed(2) + "Â°";

  resultEl.style.transform="scale(1.15)";
  setTimeout(()=> resultEl.style.transform="scale(1)",140);
}

distEl.addEventListener("input",()=>enforce4Digits(distEl));
widthEl.addEventListener("input",()=>enforce4Digits(widthEl));
calcBtn.addEventListener("click",calculate);

[distEl,widthEl].forEach(el=>{
  el.addEventListener("keydown",(e)=>{
    if(e.key==="Enter") calculate();
  });
});
</script>

</body>
</html>
